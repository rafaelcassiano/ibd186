<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    
   <header class="navbar navbar-default navbar-static-top" role="banner">
    <div class="container-fluid">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="home.xhtml" class="navbar-brand">
                IBD186
            </a>
        </div>
        <nav class="collapse navbar-collapse" role="navigation">
            <h:form id="headerForm">
            <ul class="nav navbar-nav">
                <li> 
                    <h:commandLink action="#{categoriaController.iniciar}" value="Categoria" rendered="#{request.isUserInRole('ROLE_ADMIN') or request.isUserInRole('ROLE_CATEGORIA')}"></h:commandLink>
                </li>
                 <li> 
                    <h:commandLink action="#{produtoController.iniciar}" value="Produto" rendered="#{request.isUserInRole('ROLE_ADMIN') or request.isUserInRole('ROLE_PRODUTO')}"></h:commandLink>
                </li>
                <li> 
                    <h:commandLink action="#{permissaoController.iniciar}" value="Permissao" rendered="#{request.isUserInRole('ROLE_ADMIN')}"></h:commandLink>
                </li>
                <li> 
                    <h:commandLink action="#{usuarioController.iniciar}" value="Usuário" rendered="#{request.isUserInRole('ROLE_ADMIN')}"></h:commandLink>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <div class="row-fluid">
                        <p>
                            <h:outputLink rendered="#{not empty request.userPrincipal}"  value="#{facesContext.externalContext.requestContextPath}/logout" title="Sair"><span class="glyphicon glyphicon-off"></span></h:outputLink>
                            Olá #{request.userPrincipal.name}
                        </p>
                    </div>
                    <div class="row-fluid" align="center">
                        <p class="right">
                            <a id="linkAlterarSenha" role="button"> Alterar Senha
                            </a>
                        </p>
                    </div>
                </li>
            </ul>
            </h:form>
        </nav>
    </div>
</header>
    
</ui:composition>